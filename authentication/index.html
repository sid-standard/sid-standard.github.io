<!DOCTYPE html><!--4wSIn0LPrOuQTL_f_oJ9L--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/chunks/4f1b1506632de791.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/5bcee453cc4bce6d.js"/><script src="/_next/static/chunks/82abf2d65f5428ae.js" async=""></script><script src="/_next/static/chunks/0afa5e999b6c353a.js" async=""></script><script src="/_next/static/chunks/4b5ae5ebb2087f0d.js" async=""></script><script src="/_next/static/chunks/turbopack-d49027e317e54c1d.js" async=""></script><script src="/_next/static/chunks/ff1a16fafef87110.js" async=""></script><script src="/_next/static/chunks/d2be314c3ece3fbe.js" async=""></script><script src="/_next/static/chunks/7c92e96509cd355e.js" async=""></script><script src="/_next/static/chunks/7408279f585ae723.js" async=""></script><script src="/_next/static/chunks/f27acd8022899d7e.js" async=""></script><meta name="next-size-adjust" content=""/><title>Authentication | SID - Semantic Interaction Description | SID</title><meta name="description" content="Learn how SID handles token-based authentication for AI agents. Covers the auth API methods, security considerations, and implementation guidance."/><meta name="author" content="SID Standard"/><meta name="keywords" content="SID,Semantic Interaction Description,AI agents,web accessibility,browser automation,web standard,JavaScript API"/><meta name="creator" content="SID Standard"/><meta name="robots" content="index, follow"/><link rel="canonical" href="https://sid-standard.github.io/"/><meta property="og:title" content="Authentication | SID"/><meta property="og:description" content="Token-based authentication for AI agents using SID&#x27;s optional auth API."/><meta property="og:image" content="https://sid-standard.github.io/og.png"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image:alt" content="Authentication | SID"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Authentication | SID"/><meta name="twitter:description" content="Token-based authentication for AI agents using SID&#x27;s optional auth API."/><meta name="twitter:image" content="https://sid-standard.github.io/og.png"/><link rel="icon" href="/favicon.ico?favicon.c2cf7d0b.ico" sizes="48x48" type="image/x-icon"/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased"><div hidden=""><!--$--><!--/$--></div><div class="min-h-screen bg-background flex flex-col"><div class="sticky top-0 z-50 w-full border-b bg-background"><div class="mx-auto flex h-14 max-w-7xl items-center px-4 sm:px-6 lg:px-8"><div class="lg:hidden mr-2"><div class="lg:hidden"><button data-slot="sheet-trigger" data-variant="ghost" data-size="icon" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-9" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-_R_2lfivb_" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu h-5 w-5" aria-hidden="true"><path d="M4 5h16"></path><path d="M4 12h16"></path><path d="M4 19h16"></path></svg><span class="sr-only">Toggle navigation menu</span></button></div></div><div class="flex items-center justify-between flex-1 border-0"><a class="flex items-center gap-2" href="/"><span class="font-semibold text-lg hidden sm:inline">Semantic Interaction Description</span><span class="font-semibold text-lg sm:hidden">SID</span></a><a href="https://github.com/sid-standard" target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors" aria-label="View on GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github h-5 w-5" aria-hidden="true"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg><span class="hidden sm:inline text-sm">GitHub</span></a></div></div></div><div class="mx-auto w-full max-w-7xl flex flex-1"><aside class="hidden lg:block w-64 shrink-0 border-r bg-background"><div dir="ltr" data-slot="scroll-area" class="relative h-full px-4 py-4" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" data-slot="scroll-area-viewport" class="focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><nav class="space-y-1"><a class="block px-3 py-2 text-sm rounded-md transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground" href="/introduction/">Introduction</a><a class="block px-3 py-2 text-sm rounded-md transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground" href="/core-concepts/">Core Concepts</a><a class="block px-3 py-2 text-sm rounded-md transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground" href="/javascript-api/">JavaScript API</a><a class="block px-3 py-2 text-sm rounded-md transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground" href="/html-attributes/">HTML Attributes</a><a class="block px-3 py-2 text-sm rounded-md transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground" href="/operation-tracking/">Operation Tracking</a><a class="block px-3 py-2 text-sm rounded-md transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground" href="/human-input/">Human Input</a><a class="block px-3 py-2 text-sm rounded-md transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground" href="/authentication/">Authentication</a><a class="block px-3 py-2 text-sm rounded-md transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground" href="/agent-docs/">Agent Docs</a><a class="block px-3 py-2 text-sm rounded-md transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground" href="/sdks/">SDKs</a></nav></div></div></div></aside><main class="flex-1 min-w-0"><div class="px-4 sm:px-6 lg:px-8"><article class="py-8 lg:py-12 prose-container max-w-4xl"><header class="mb-8"><h1 class="text-3xl font-bold tracking-tight sm:text-4xl">Authentication</h1><p class="mt-4 text-lg text-muted-foreground">AI agents need a way to authenticate with applications that goes beyond human-focused interfaces like username/password forms or social logins. SID provides an optional token-based authentication mechanism that allows agents to authenticate programmatically while inheriting the permissions of the user who created the token.</p></header><div class="space-y-12"><section><h2 class="text-2xl font-semibold tracking-tight mb-4">Why Token-Based Authentication for Agents</h2><p class="text-base leading-7 mb-4">Traditional authentication methods present challenges for AI agents:</p><div class="overflow-x-auto mb-6"><table class="w-full border-collapse border border-border"><thead><tr class="bg-muted"><th class="border border-border px-4 py-2 text-left font-semibold">Method</th><th class="border border-border px-4 py-2 text-left font-semibold">Challenge for Agents</th></tr></thead><tbody><tr><td class="border border-border px-4 py-2">Username/Password</td><td class="border border-border px-4 py-2">Requires users to share credentials with the agent—a significant security risk. Forms may have CAPTCHAs or other bot-detection measures.</td></tr><tr><td class="border border-border px-4 py-2">OAuth/Social Login</td><td class="border border-border px-4 py-2">Redirects to external providers, requires human interaction for consent screens, and may involve complex multi-step flows.</td></tr></tbody></table></div><p class="text-base leading-7 mb-4">Token-based authentication solves these problems:</p><ul class="list-disc list-inside space-y-2 text-base leading-7 ml-4"><li><strong>No credential sharing:</strong> Users generate API tokens from their account settings—the agent never sees the user&#x27;s password</li><li><strong>Programmatic access:</strong> Tokens can be passed directly to the SID API without navigating login forms</li><li><strong>Scoped permissions:</strong> Tokens inherit the user&#x27;s permissions, and can potentially be scoped to specific actions</li><li><strong>Revocable:</strong> Users can revoke tokens at any time without changing their password</li><li><strong>Auditable:</strong> Applications can track which actions were performed via which token</li></ul></section><section><h2 class="text-2xl font-semibold tracking-tight mb-4">The Auth API</h2><p class="text-base leading-7 mb-4">The <code class="bg-muted px-1 rounded">window.SID.auth</code> <!-- -->object is <strong>optional</strong>. Applications that don&#x27;t require authentication simply don&#x27;t expose it. When present, it provides two members:</p><div class="rounded-lg border border-border overflow-hidden bg-card"><div class="flex items-center px-4 py-3 border-b border-border bg-muted"><code class="font-mono font-semibold text-foreground">SIDAuth</code></div><div class="border-b border-border last:border-b-0"><div class="border-border overflow-hidden bg-muted/50 border-0 rounded-none"><div class="overflow-x-auto"><pre class="p-4 m-0 bg-transparent"><code class="font-mono text-sm leading-relaxed"><div class="flex"><span class="flex-1"><span class="font-semibold text-foreground">interface</span><span class="text-foreground"> </span><span class="text-foreground">SIDAuth</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground/60 italic">// Plaintext description of how authentication works</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-foreground">description</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">string</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground/60 italic">// Authenticate with a token</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-foreground">authenticate</span><span class="text-muted-foreground">(</span><span class="text-foreground">token</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">string</span><span class="text-muted-foreground">)</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-foreground">Promise</span><span class="text-foreground">&lt;</span><span class="font-semibold text-foreground">boolean</span><span class="text-foreground">&gt;</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground">}</span></span></div></code></pre></div></div></div><div class="px-4 py-3 bg-muted/30"><p class="text-sm text-muted-foreground leading-relaxed m-0">The optional authentication interface exposed on window.SID. Provides a method for token-based authentication and a plaintext description of how auth works.</p></div></div><div class="border rounded-lg p-4 mb-6 mt-6"><h3 class="font-mono font-semibold mb-2 mt-0">auth.description</h3><p class="text-muted-foreground text-sm mb-4">A plaintext description explaining how authentication works for this application. This helps agents understand what tokens are needed, what permissions they grant, and any special considerations.</p><div class="rounded-lg border border-border overflow-hidden bg-muted/50"><div class="overflow-x-auto"><pre class="p-4 m-0 bg-transparent"><code class="font-mono text-sm leading-relaxed"><div class="flex"><span class="flex-1"><span class="text-foreground">console</span><span class="text-muted-foreground">.</span><span class="text-foreground">log</span><span class="text-muted-foreground">(</span><span class="text-foreground">SID</span><span class="text-muted-foreground">.</span><span class="text-foreground">auth</span><span class="text-muted-foreground">.</span><span class="text-foreground">description</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground/60 italic">// &quot;Supports token-based auth for agents. Call SID.auth.authenticate(token) </span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground/60 italic">//  with a SID token. Tokens have the same permissions as the user who </span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground/60 italic">//  created them.&quot;</span></span></div></code></pre></div></div></div><div class="border rounded-lg p-4 mb-6"><h3 class="font-mono font-semibold mb-2 mt-0">auth.authenticate(token: string): Promise&lt;boolean&gt;</h3><p class="text-muted-foreground text-sm mb-4">Authenticates the agent with the provided SID token. Returns<!-- --> <code class="bg-muted px-1 rounded">true</code> if authentication succeeded and a session was established,<!-- --> <code class="bg-muted px-1 rounded">false</code> otherwise. On success, the application creates a session for the agent.</p><div class="rounded-lg border border-border overflow-hidden bg-muted/50"><div class="overflow-x-auto"><pre class="p-4 m-0 bg-transparent"><code class="font-mono text-sm leading-relaxed"><div class="flex"><span class="flex-1"><span class="text-muted-foreground/60 italic">// SID token provided to the agent (similar to an API token)</span></span></div><div class="flex"><span class="flex-1"><span class="font-semibold text-foreground">const</span><span class="text-foreground"> </span><span class="text-foreground">token</span><span class="text-foreground"> </span><span class="text-foreground">=</span><span class="text-foreground"> </span><span class="text-muted-foreground">&#x27;sk_live_abc123...&#x27;</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span> </span></span></div><div class="flex"><span class="flex-1"><span class="font-semibold text-foreground">const</span><span class="text-foreground"> </span><span class="text-foreground">success</span><span class="text-foreground"> </span><span class="text-foreground">=</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">await</span><span class="text-foreground"> </span><span class="text-foreground">SID</span><span class="text-muted-foreground">.</span><span class="text-foreground">auth</span><span class="text-muted-foreground">.</span><span class="text-foreground">authenticate</span><span class="text-muted-foreground">(</span><span class="text-foreground">token</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span> </span></span></div><div class="flex"><span class="flex-1"><span class="font-semibold text-foreground">if</span><span class="text-foreground"> </span><span class="text-muted-foreground">(</span><span class="text-foreground">success</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-foreground">console</span><span class="text-muted-foreground">.</span><span class="text-foreground">log</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">&#x27;Session established&#x27;</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground/60 italic">// Agent can now perform actions as the authenticated user</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground/60 italic">// The application has created a session internally</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground">}</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">else</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-foreground">console</span><span class="text-muted-foreground">.</span><span class="text-foreground">log</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">&#x27;Authentication failed - invalid or expired token&#x27;</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground">}</span></span></div></code></pre></div></div></div></section><section><h2 class="text-2xl font-semibold tracking-tight mb-4">Checking for Auth Support</h2><p class="text-base leading-7 mb-4">Since <code class="bg-muted px-1 rounded">auth</code> is optional, agents should check for its presence before attempting to authenticate:</p><div class="rounded-lg border border-border overflow-hidden bg-muted/50"><div class="overflow-x-auto"><pre class="p-4 m-0 bg-transparent"><code class="font-mono text-sm leading-relaxed"><div class="flex"><span class="flex-1"><span class="text-muted-foreground/60 italic">// Check if the application supports SID authentication</span></span></div><div class="flex"><span class="flex-1"><span class="font-semibold text-foreground">if</span><span class="text-foreground"> </span><span class="text-muted-foreground">(</span><span class="text-foreground">SID</span><span class="text-muted-foreground">.</span><span class="text-foreground">auth</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground/60 italic">// Read how auth works for this application</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-foreground">console</span><span class="text-muted-foreground">.</span><span class="text-foreground">log</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">&#x27;Auth info:&#x27;</span><span class="text-muted-foreground">,</span><span class="text-foreground"> </span><span class="text-foreground">SID</span><span class="text-muted-foreground">.</span><span class="text-foreground">auth</span><span class="text-muted-foreground">.</span><span class="text-foreground">description</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground/60 italic">// Attempt authentication with the provided SID token</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="font-semibold text-foreground">const</span><span class="text-foreground"> </span><span class="text-foreground">success</span><span class="text-foreground"> </span><span class="text-foreground">=</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">await</span><span class="text-foreground"> </span><span class="text-foreground">SID</span><span class="text-muted-foreground">.</span><span class="text-foreground">auth</span><span class="text-muted-foreground">.</span><span class="text-foreground">authenticate</span><span class="text-muted-foreground">(</span><span class="text-foreground">token</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="font-semibold text-foreground">if</span><span class="text-foreground"> </span><span class="text-muted-foreground">(</span><span class="text-foreground">success</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-muted-foreground/60 italic">// Session established - proceed with authenticated actions</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-foreground">console</span><span class="text-muted-foreground">.</span><span class="text-foreground">log</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">&#x27;Session established&#x27;</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground">}</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground">}</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">else</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground/60 italic">// Application doesn&#x27;t require authentication</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground/60 italic">// or uses a different auth mechanism</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-foreground">console</span><span class="text-muted-foreground">.</span><span class="text-foreground">log</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">&#x27;No SID auth available&#x27;</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground">}</span></span></div></code></pre></div></div></section><section><h2 class="text-2xl font-semibold tracking-tight mb-4">SID Tokens</h2><p class="text-base leading-7 mb-4">SID tokens are similar to API tokens—they allow agents to authenticate programmatically. The agent should be provided a SID token before attempting to interact with authenticated applications.</p><p class="text-base leading-7 mb-4">How tokens are generated and managed is up to the application. Common patterns include API key pages in user settings, developer portals, or integration dashboards. The<!-- --> <code class="bg-muted px-1 rounded">auth.description</code> <!-- -->field provides guidance on what kind of token is expected:</p><div class="rounded-lg border border-border overflow-hidden bg-muted/50"><div class="overflow-x-auto"><pre class="p-4 m-0 bg-transparent"><code class="font-mono text-sm leading-relaxed"><div class="flex"><span class="flex-1"><span class="text-muted-foreground/60 italic">// Example auth descriptions from different applications</span></span></div><div class="flex"><span class="flex-1"><span> </span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground/60 italic">// E-commerce platform</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground">&quot;Supports token-based auth for agents. Provide a SID token to authenticate. </span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground"> Tokens can be scoped to read-only or full access.&quot;</span></span></div><div class="flex"><span class="flex-1"><span> </span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground/60 italic">// Project management tool</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground">&quot;Token-based authentication. Provide your SID token to establish a session. </span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground"> Tokens inherit your workspace permissions.&quot;</span></span></div><div class="flex"><span class="flex-1"><span> </span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground/60 italic">// Analytics dashboard</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground">&quot;Authenticate with a SID token. Tokens require the Developer role.&quot;</span></span></div></code></pre></div></div></section><section><h2 class="text-2xl font-semibold tracking-tight mb-4">Token Permissions</h2><p class="text-base leading-7 mb-4">A key principle of SID authentication:<!-- --> <strong>tokens inherit the permissions of the user who created them</strong>. This means:</p><ul class="list-disc list-inside space-y-2 text-base leading-7 ml-4 mb-6"><li>If a user can view but not edit a resource, their token can only view it</li><li>Admin users&#x27; tokens have admin-level access</li><li>When a user&#x27;s permissions change, their tokens&#x27; permissions change too</li><li>Revoking a user&#x27;s access should invalidate their tokens</li></ul><p class="text-base leading-7 mb-4">Applications may also support scoped tokens with reduced permissions:</p><div class="rounded-lg border border-border overflow-hidden bg-muted/50"><div class="overflow-x-auto"><pre class="p-4 m-0 bg-transparent"><code class="font-mono text-sm leading-relaxed"><div class="flex"><span class="flex-1"><span class="text-muted-foreground/60 italic">// Example: Application with scoped tokens</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground/60 italic">// auth.description might say:</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground">&quot;Tokens can be created with specific scopes:</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground"> - read: View data only</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground"> - write: Create and modify data</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground"> - admin: Full access including user management</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground"> </span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground"> Select scopes when creating a token in Settings &gt; API Keys.&quot;</span></span></div></code></pre></div></div></section><section><h2 class="text-2xl font-semibold tracking-tight mb-4">Security Considerations</h2><h3 class="text-xl font-medium mt-6 mb-4">For Agent Developers</h3><ul class="list-disc list-inside space-y-2 text-base leading-7 ml-4 mb-6"><li><strong>Never log tokens:</strong> Treat tokens like passwords—don&#x27;t write them to logs, console output, or error messages</li><li><strong>Secure storage:</strong> Store tokens in secure credential stores, not in plain text files or environment variables in shared environments</li><li><strong>Minimal scope:</strong> Request tokens with the minimum permissions needed for the task</li><li><strong>Token rotation:</strong> Support token rotation and handle expired tokens gracefully</li><li><strong>User consent:</strong> Always get explicit user consent before using their tokens</li></ul><h3 class="text-xl font-medium mt-6 mb-4">For Application Developers</h3><ul class="list-disc list-inside space-y-2 text-base leading-7 ml-4 mb-6"><li><strong>Token generation:</strong> Use cryptographically secure random generation for tokens</li><li><strong>Token storage:</strong> Store only hashed tokens in your database—never plaintext</li><li><strong>Rate limiting:</strong> Apply rate limits to prevent abuse via automated access</li><li><strong>Audit logging:</strong> Log all actions performed via tokens for security auditing</li><li><strong>Expiration:</strong> Consider automatic token expiration (e.g., 90 days) with renewal options</li><li><strong>Revocation:</strong> Provide easy token revocation and immediately invalidate revoked tokens</li><li><strong>Scope support:</strong> Consider supporting scoped tokens for principle of least privilege</li></ul></section><section><h2 class="text-2xl font-semibold tracking-tight mb-4">Implementation Guidance</h2><p class="text-base leading-7 mb-4">Here&#x27;s how to implement SID authentication in your application:</p><h3 class="text-xl font-medium mt-6 mb-4">1. Define the Auth Object</h3><div class="rounded-lg border border-border overflow-hidden bg-muted/50"><div class="overflow-x-auto"><pre class="p-4 m-0 bg-transparent"><code class="font-mono text-sm leading-relaxed"><div class="flex"><span class="flex-1"><span class="text-muted-foreground/60 italic">// In your SID initialization</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">window</span><span class="text-muted-foreground">.</span><span class="text-foreground">SID</span><span class="text-foreground"> </span><span class="text-foreground">=</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-foreground">version</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-muted-foreground">&quot;1.0.0&quot;</span><span class="text-muted-foreground">,</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground/60 italic">// ... other SID methods ...</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-foreground">auth</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-foreground">description</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-muted-foreground">`Supports token-based auth for agents. </span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground">      Call SID.auth.authenticate(token) with a SID token.</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground">      Tokens have the same permissions as the user who created them.`</span><span class="text-muted-foreground">,</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-foreground">authenticate</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">async</span><span class="text-foreground"> </span><span class="text-muted-foreground">(</span><span class="text-foreground">token</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-foreground">=&gt;</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="text-muted-foreground/60 italic">// Validate token with your backend</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="font-semibold text-foreground">try</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">        </span><span class="font-semibold text-foreground">const</span><span class="text-foreground"> </span><span class="text-foreground">response</span><span class="text-foreground"> </span><span class="text-foreground">=</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">await</span><span class="text-foreground"> </span><span class="text-foreground">fetch</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">&#x27;/api/auth/sid-token&#x27;</span><span class="text-muted-foreground">,</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">          </span><span class="text-foreground">method</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-muted-foreground">&#x27;POST&#x27;</span><span class="text-muted-foreground">,</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">          </span><span class="text-foreground">headers</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span><span class="text-foreground"> </span><span class="text-muted-foreground">&#x27;Content-Type&#x27;</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-muted-foreground">&#x27;application/json&#x27;</span><span class="text-foreground"> </span><span class="text-muted-foreground">}</span><span class="text-muted-foreground">,</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">          </span><span class="text-foreground">body</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-foreground">JSON</span><span class="text-muted-foreground">.</span><span class="text-foreground">stringify</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">{</span><span class="text-foreground"> </span><span class="text-foreground">token</span><span class="text-foreground"> </span><span class="text-muted-foreground">}</span><span class="text-muted-foreground">)</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">        </span><span class="text-muted-foreground">}</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">        </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">        </span><span class="font-semibold text-foreground">if</span><span class="text-foreground"> </span><span class="text-muted-foreground">(</span><span class="text-foreground">response</span><span class="text-muted-foreground">.</span><span class="text-foreground">ok</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">          </span><span class="font-semibold text-foreground">const</span><span class="text-foreground"> </span><span class="text-foreground">data</span><span class="text-foreground"> </span><span class="text-foreground">=</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">await</span><span class="text-foreground"> </span><span class="text-foreground">response</span><span class="text-muted-foreground">.</span><span class="text-foreground">json</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">          </span><span class="text-muted-foreground/60 italic">// Create a session for the authenticated user</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">          </span><span class="text-muted-foreground/60 italic">// This could set cookies, update app state, etc.</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">          </span><span class="font-semibold text-foreground">await</span><span class="text-foreground"> </span><span class="text-foreground">createSession</span><span class="text-muted-foreground">(</span><span class="text-foreground">data</span><span class="text-muted-foreground">.</span><span class="text-foreground">userId</span><span class="text-muted-foreground">,</span><span class="text-foreground"> </span><span class="text-foreground">data</span><span class="text-muted-foreground">.</span><span class="text-foreground">scopes</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">          </span><span class="font-semibold text-foreground">return</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">true</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">        </span><span class="text-muted-foreground">}</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">        </span><span class="font-semibold text-foreground">return</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">false</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="text-muted-foreground">}</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">catch</span><span class="text-foreground"> </span><span class="text-muted-foreground">(</span><span class="text-foreground">error</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">        </span><span class="text-foreground">console</span><span class="text-muted-foreground">.</span><span class="text-foreground">error</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">&#x27;Auth error:&#x27;</span><span class="text-muted-foreground">,</span><span class="text-foreground"> </span><span class="text-foreground">error</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">        </span><span class="font-semibold text-foreground">return</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">false</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="text-muted-foreground">}</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-muted-foreground">}</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground">}</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground">}</span><span class="text-muted-foreground">;</span></span></div></code></pre></div></div><h3 class="text-xl font-medium mt-6 mb-4">2. Backend Token Validation</h3><div class="rounded-lg border border-border overflow-hidden bg-muted/50"><div class="overflow-x-auto"><pre class="p-4 m-0 bg-transparent"><code class="font-mono text-sm leading-relaxed"><div class="flex"><span class="flex-1"><span class="text-muted-foreground/60 italic">// Example: Express.js token validation endpoint</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">app</span><span class="text-muted-foreground">.</span><span class="text-foreground">post</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">&#x27;/api/auth/sid-token&#x27;</span><span class="text-muted-foreground">,</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">async</span><span class="text-foreground"> </span><span class="text-muted-foreground">(</span><span class="text-foreground">req</span><span class="text-muted-foreground">,</span><span class="text-foreground"> </span><span class="text-foreground">res</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-foreground">=&gt;</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="font-semibold text-foreground">const</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span><span class="text-foreground"> </span><span class="text-foreground">token</span><span class="text-foreground"> </span><span class="text-muted-foreground">}</span><span class="text-foreground"> </span><span class="text-foreground">=</span><span class="text-foreground"> </span><span class="text-foreground">req</span><span class="text-muted-foreground">.</span><span class="text-foreground">body</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="font-semibold text-foreground">if</span><span class="text-foreground"> </span><span class="text-muted-foreground">(</span><span class="text-foreground">!</span><span class="text-foreground">token</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="font-semibold text-foreground">return</span><span class="text-foreground"> </span><span class="text-foreground">res</span><span class="text-muted-foreground">.</span><span class="text-foreground">status</span><span class="text-muted-foreground">(</span><span class="text-foreground">400</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">.</span><span class="text-foreground">json</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">{</span><span class="text-foreground"> </span><span class="text-foreground">error</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-muted-foreground">&#x27;Token required&#x27;</span><span class="text-foreground"> </span><span class="text-muted-foreground">}</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground">}</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="font-semibold text-foreground">try</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-muted-foreground/60 italic">// Hash the token and look it up</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="font-semibold text-foreground">const</span><span class="text-foreground"> </span><span class="text-foreground">hashedToken</span><span class="text-foreground"> </span><span class="text-foreground">=</span><span class="text-foreground"> </span><span class="text-foreground">hashToken</span><span class="text-muted-foreground">(</span><span class="text-foreground">token</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="font-semibold text-foreground">const</span><span class="text-foreground"> </span><span class="text-foreground">tokenRecord</span><span class="text-foreground"> </span><span class="text-foreground">=</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">await</span><span class="text-foreground"> </span><span class="text-foreground">db</span><span class="text-muted-foreground">.</span><span class="text-foreground">tokens</span><span class="text-muted-foreground">.</span><span class="text-foreground">findOne</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">{</span><span class="text-foreground"> </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="text-foreground">hashedToken</span><span class="text-muted-foreground">,</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="text-foreground">revokedAt</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">null</span><span class="text-muted-foreground">,</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="text-foreground">expiresAt</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span><span class="text-foreground"> </span><span class="text-foreground">$gt</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">new</span><span class="text-foreground"> </span><span class="text-foreground">Date</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-muted-foreground">}</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-muted-foreground">}</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="font-semibold text-foreground">if</span><span class="text-foreground"> </span><span class="text-muted-foreground">(</span><span class="text-foreground">!</span><span class="text-foreground">tokenRecord</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="font-semibold text-foreground">return</span><span class="text-foreground"> </span><span class="text-foreground">res</span><span class="text-muted-foreground">.</span><span class="text-foreground">status</span><span class="text-muted-foreground">(</span><span class="text-foreground">401</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">.</span><span class="text-foreground">json</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">{</span><span class="text-foreground"> </span><span class="text-foreground">error</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-muted-foreground">&#x27;Invalid or expired token&#x27;</span><span class="text-foreground"> </span><span class="text-muted-foreground">}</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-muted-foreground">}</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-muted-foreground/60 italic">// Log the authentication for auditing</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="font-semibold text-foreground">await</span><span class="text-foreground"> </span><span class="text-foreground">db</span><span class="text-muted-foreground">.</span><span class="text-foreground">auditLog</span><span class="text-muted-foreground">.</span><span class="text-foreground">insert</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="font-semibold text-foreground">type</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-muted-foreground">&#x27;sid_token_auth&#x27;</span><span class="text-muted-foreground">,</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="text-foreground">tokenId</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-foreground">tokenRecord</span><span class="text-muted-foreground">.</span><span class="text-foreground">id</span><span class="text-muted-foreground">,</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="text-foreground">userId</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-foreground">tokenRecord</span><span class="text-muted-foreground">.</span><span class="text-foreground">userId</span><span class="text-muted-foreground">,</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="text-foreground">timestamp</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">new</span><span class="text-foreground"> </span><span class="text-foreground">Date</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">,</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="text-foreground">ip</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-foreground">req</span><span class="text-muted-foreground">.</span><span class="text-foreground">ip</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-muted-foreground">}</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-muted-foreground/60 italic">// Create session (set cookies, JWT, etc.)</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="font-semibold text-foreground">const</span><span class="text-foreground"> </span><span class="text-foreground">sessionToken</span><span class="text-foreground"> </span><span class="text-foreground">=</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">await</span><span class="text-foreground"> </span><span class="text-foreground">createUserSession</span><span class="text-muted-foreground">(</span><span class="text-foreground">tokenRecord</span><span class="text-muted-foreground">.</span><span class="text-foreground">userId</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-foreground">res</span><span class="text-muted-foreground">.</span><span class="text-foreground">cookie</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">&#x27;session&#x27;</span><span class="text-muted-foreground">,</span><span class="text-foreground"> </span><span class="text-foreground">sessionToken</span><span class="text-muted-foreground">,</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span><span class="text-foreground"> </span><span class="text-foreground">httpOnly</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">true</span><span class="text-muted-foreground">,</span><span class="text-foreground"> </span><span class="text-foreground">secure</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">true</span><span class="text-foreground"> </span><span class="text-muted-foreground">}</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-muted-foreground/60 italic">// Return success with user info</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-foreground">res</span><span class="text-muted-foreground">.</span><span class="text-foreground">json</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">{</span><span class="text-foreground"> </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="text-foreground">success</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">true</span><span class="text-muted-foreground">,</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="text-foreground">userId</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-foreground">tokenRecord</span><span class="text-muted-foreground">.</span><span class="text-foreground">userId</span><span class="text-muted-foreground">,</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="text-foreground">scopes</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-foreground">tokenRecord</span><span class="text-muted-foreground">.</span><span class="text-foreground">scopes</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-muted-foreground">}</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground">}</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">catch</span><span class="text-foreground"> </span><span class="text-muted-foreground">(</span><span class="text-foreground">error</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-foreground">console</span><span class="text-muted-foreground">.</span><span class="text-foreground">error</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">&#x27;Token validation error:&#x27;</span><span class="text-muted-foreground">,</span><span class="text-foreground"> </span><span class="text-foreground">error</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-foreground">res</span><span class="text-muted-foreground">.</span><span class="text-foreground">status</span><span class="text-muted-foreground">(</span><span class="text-foreground">500</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">.</span><span class="text-foreground">json</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">{</span><span class="text-foreground"> </span><span class="text-foreground">error</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-muted-foreground">&#x27;Internal error&#x27;</span><span class="text-foreground"> </span><span class="text-muted-foreground">}</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground">}</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground">}</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div></code></pre></div></div><h3 class="text-xl font-medium mt-6 mb-4">3. Include Auth Info in Page Context</h3><p class="text-base leading-7 mb-4">Include authentication information in your SID page context so agents know auth is available:</p><div class="rounded-lg border border-border overflow-hidden bg-muted/50"><div class="overflow-x-auto"><pre class="p-4 m-0 bg-transparent"><code class="font-mono text-sm leading-relaxed"><div class="flex"><span class="flex-1"><span class="text-muted-foreground">&lt;</span><span class="font-semibold text-foreground">script</span><span class="text-foreground"> </span><span class="text-muted-foreground">type</span><span class="text-foreground">=</span><span class="text-muted-foreground">&quot;application/sid+json&quot;</span><span class="text-muted-foreground">&gt;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  &quot;version&quot;: &quot;1.0.0&quot;,</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  &quot;app&quot;: &quot;Acme Project Manager - A project management tool for teams.&quot;,</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  &quot;page&quot;: &quot;Dashboard showing your projects and recent activity.&quot;,</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  &quot;auth&quot;: &quot;Supports token-based auth for agents. Call SID.auth.authenticate(token) </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">          with a SID token. Tokens have same permissions as the user who created them.&quot;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">}</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground">&lt;/</span><span class="font-semibold text-foreground">script</span><span class="text-muted-foreground">&gt;</span></span></div></code></pre></div></div></section><section><h2 class="text-2xl font-semibold tracking-tight mb-4">Complete Agent Authentication Flow</h2><p class="text-base leading-7 mb-4">Here&#x27;s a complete example of how an agent authenticates and performs actions:</p><div class="rounded-lg border border-border overflow-hidden bg-muted/50"><div class="overflow-x-auto"><pre class="p-4 m-0 bg-transparent"><code class="font-mono text-sm leading-relaxed"><div class="flex"><span class="flex-1"><span class="text-muted-foreground/60 italic">// Agent authentication flow</span></span></div><div class="flex"><span class="flex-1"><span> </span></span></div><div class="flex"><span class="flex-1"><span class="font-semibold text-foreground">async</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">function</span><span class="text-foreground"> </span><span class="text-foreground">authenticateAndPerformTask</span><span class="text-muted-foreground">(</span><span class="text-foreground">token</span><span class="text-muted-foreground">,</span><span class="text-foreground"> </span><span class="text-foreground">taskDescription</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground/60 italic">// 1. Check if SID is supported</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="font-semibold text-foreground">if</span><span class="text-foreground"> </span><span class="text-muted-foreground">(</span><span class="text-foreground">!</span><span class="text-foreground">window</span><span class="text-muted-foreground">.</span><span class="text-foreground">SID</span><span class="text-foreground">?.</span><span class="text-foreground">isSupported</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="font-semibold text-foreground">throw</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">new</span><span class="text-foreground"> </span><span class="text-foreground">Error</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">&#x27;SID not supported on this page&#x27;</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground">}</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground/60 italic">// 2. Check if auth is available</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="font-semibold text-foreground">if</span><span class="text-foreground"> </span><span class="text-muted-foreground">(</span><span class="text-foreground">!</span><span class="text-foreground">SID</span><span class="text-muted-foreground">.</span><span class="text-foreground">auth</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-foreground">console</span><span class="text-muted-foreground">.</span><span class="text-foreground">log</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">&#x27;No authentication required for this application&#x27;</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-muted-foreground/60 italic">// Proceed without auth</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="font-semibold text-foreground">return</span><span class="text-foreground"> </span><span class="text-foreground">performTask</span><span class="text-muted-foreground">(</span><span class="text-foreground">taskDescription</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground">}</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground/60 italic">// 3. Read auth description to understand requirements</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-foreground">console</span><span class="text-muted-foreground">.</span><span class="text-foreground">log</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">&#x27;Auth info:&#x27;</span><span class="text-muted-foreground">,</span><span class="text-foreground"> </span><span class="text-foreground">SID</span><span class="text-muted-foreground">.</span><span class="text-foreground">auth</span><span class="text-muted-foreground">.</span><span class="text-foreground">description</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground/60 italic">// 4. Authenticate with provided SID token</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-foreground">console</span><span class="text-muted-foreground">.</span><span class="text-foreground">log</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">&#x27;Authenticating...&#x27;</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="font-semibold text-foreground">const</span><span class="text-foreground"> </span><span class="text-foreground">success</span><span class="text-foreground"> </span><span class="text-foreground">=</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">await</span><span class="text-foreground"> </span><span class="text-foreground">SID</span><span class="text-muted-foreground">.</span><span class="text-foreground">auth</span><span class="text-muted-foreground">.</span><span class="text-foreground">authenticate</span><span class="text-muted-foreground">(</span><span class="text-foreground">token</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="font-semibold text-foreground">if</span><span class="text-foreground"> </span><span class="text-muted-foreground">(</span><span class="text-foreground">!</span><span class="text-foreground">success</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="font-semibold text-foreground">throw</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">new</span><span class="text-foreground"> </span><span class="text-foreground">Error</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">&#x27;Authentication failed - check token validity&#x27;</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground">}</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-foreground">console</span><span class="text-muted-foreground">.</span><span class="text-foreground">log</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">&#x27;Session established&#x27;</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground/60 italic">// 5. Perform the task as authenticated user</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="font-semibold text-foreground">return</span><span class="text-foreground"> </span><span class="text-foreground">performTask</span><span class="text-muted-foreground">(</span><span class="text-foreground">taskDescription</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground">}</span></span></div><div class="flex"><span class="flex-1"><span> </span></span></div><div class="flex"><span class="flex-1"><span class="font-semibold text-foreground">async</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">function</span><span class="text-foreground"> </span><span class="text-foreground">performTask</span><span class="text-muted-foreground">(</span><span class="text-foreground">taskDescription</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground/60 italic">// Get available elements</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="font-semibold text-foreground">const</span><span class="text-foreground"> </span><span class="text-foreground">elements</span><span class="text-foreground"> </span><span class="text-foreground">=</span><span class="text-foreground"> </span><span class="text-foreground">SID</span><span class="text-muted-foreground">.</span><span class="text-foreground">getElements</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground/60 italic">// Find relevant element based on task</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground/60 italic">// ... agent logic to determine which element to interact with ...</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground/60 italic">// Perform interaction</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="font-semibold text-foreground">const</span><span class="text-foreground"> </span><span class="text-foreground">result</span><span class="text-foreground"> </span><span class="text-foreground">=</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">await</span><span class="text-foreground"> </span><span class="text-foreground">SID</span><span class="text-muted-foreground">.</span><span class="text-foreground">interact</span><span class="text-muted-foreground">(</span><span class="text-foreground">elementId</span><span class="text-muted-foreground">,</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">type</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-muted-foreground">&#x27;click&#x27;</span><span class="text-foreground"> </span><span class="text-muted-foreground">}</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground/60 italic">// Handle result</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="font-semibold text-foreground">if</span><span class="text-foreground"> </span><span class="text-muted-foreground">(</span><span class="text-foreground">result</span><span class="text-muted-foreground">.</span><span class="text-foreground">success</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-foreground">console</span><span class="text-muted-foreground">.</span><span class="text-foreground">log</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">&#x27;Task completed:&#x27;</span><span class="text-muted-foreground">,</span><span class="text-foreground"> </span><span class="text-foreground">result</span><span class="text-muted-foreground">.</span><span class="text-foreground">message</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground">}</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">else</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-foreground">console</span><span class="text-muted-foreground">.</span><span class="text-foreground">error</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">&#x27;Task failed:&#x27;</span><span class="text-muted-foreground">,</span><span class="text-foreground"> </span><span class="text-foreground">result</span><span class="text-muted-foreground">.</span><span class="text-foreground">error</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground">}</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="font-semibold text-foreground">return</span><span class="text-foreground"> </span><span class="text-foreground">result</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground">}</span></span></div></code></pre></div></div></section><section><h2 class="text-2xl font-semibold tracking-tight mb-4">Error Handling</h2><p class="text-base leading-7 mb-4">Agents should handle common authentication errors gracefully:</p><div class="rounded-lg border border-border overflow-hidden bg-muted/50"><div class="overflow-x-auto"><pre class="p-4 m-0 bg-transparent"><code class="font-mono text-sm leading-relaxed"><div class="flex"><span class="flex-1"><span class="font-semibold text-foreground">async</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">function</span><span class="text-foreground"> </span><span class="text-foreground">safeAuthenticate</span><span class="text-muted-foreground">(</span><span class="text-foreground">token</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="font-semibold text-foreground">try</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-muted-foreground/60 italic">// Check auth availability</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="font-semibold text-foreground">if</span><span class="text-foreground"> </span><span class="text-muted-foreground">(</span><span class="text-foreground">!</span><span class="text-foreground">SID</span><span class="text-muted-foreground">.</span><span class="text-foreground">auth</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="font-semibold text-foreground">return</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span><span class="text-foreground"> </span><span class="text-foreground">success</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">true</span><span class="text-muted-foreground">,</span><span class="text-foreground"> </span><span class="text-foreground">message</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-muted-foreground">&#x27;No auth required&#x27;</span><span class="text-foreground"> </span><span class="text-muted-foreground">}</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-muted-foreground">}</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-muted-foreground/60 italic">// Attempt authentication</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="font-semibold text-foreground">const</span><span class="text-foreground"> </span><span class="text-foreground">success</span><span class="text-foreground"> </span><span class="text-foreground">=</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">await</span><span class="text-foreground"> </span><span class="text-foreground">SID</span><span class="text-muted-foreground">.</span><span class="text-foreground">auth</span><span class="text-muted-foreground">.</span><span class="text-foreground">authenticate</span><span class="text-muted-foreground">(</span><span class="text-foreground">token</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="font-semibold text-foreground">if</span><span class="text-foreground"> </span><span class="text-muted-foreground">(</span><span class="text-foreground">success</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="font-semibold text-foreground">return</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span><span class="text-foreground"> </span><span class="text-foreground">success</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">true</span><span class="text-muted-foreground">,</span><span class="text-foreground"> </span><span class="text-foreground">message</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-muted-foreground">&#x27;Authenticated&#x27;</span><span class="text-foreground"> </span><span class="text-muted-foreground">}</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-muted-foreground">}</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">else</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="font-semibold text-foreground">return</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span><span class="text-foreground"> </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">        </span><span class="text-foreground">success</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">false</span><span class="text-muted-foreground">,</span><span class="text-foreground"> </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">        </span><span class="text-foreground">error</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-muted-foreground">&#x27;invalid_token&#x27;</span><span class="text-muted-foreground">,</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">        </span><span class="text-foreground">message</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-muted-foreground">&#x27;Token is invalid or expired. Please generate a new token.&#x27;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="text-muted-foreground">}</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-muted-foreground">}</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground">}</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">catch</span><span class="text-foreground"> </span><span class="text-muted-foreground">(</span><span class="text-foreground">error</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-muted-foreground/60 italic">// Network or server error</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="font-semibold text-foreground">return</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="text-foreground">success</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">false</span><span class="text-muted-foreground">,</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="text-foreground">error</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-muted-foreground">&#x27;auth_error&#x27;</span><span class="text-muted-foreground">,</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="text-foreground">message</span><span class="text-foreground">:</span><span class="text-foreground"> </span><span class="text-muted-foreground">`Authentication error: ${error.message}`</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="text-muted-foreground">}</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground">}</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground">}</span></span></div><div class="flex"><span class="flex-1"><span> </span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground/60 italic">// Usage</span></span></div><div class="flex"><span class="flex-1"><span class="font-semibold text-foreground">const</span><span class="text-foreground"> </span><span class="text-foreground">authResult</span><span class="text-foreground"> </span><span class="text-foreground">=</span><span class="text-foreground"> </span><span class="font-semibold text-foreground">await</span><span class="text-foreground"> </span><span class="text-foreground">safeAuthenticate</span><span class="text-muted-foreground">(</span><span class="text-foreground">userToken</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span> </span></span></div><div class="flex"><span class="flex-1"><span class="font-semibold text-foreground">if</span><span class="text-foreground"> </span><span class="text-muted-foreground">(</span><span class="text-foreground">!</span><span class="text-foreground">authResult</span><span class="text-muted-foreground">.</span><span class="text-foreground">success</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="font-semibold text-foreground">switch</span><span class="text-foreground"> </span><span class="text-muted-foreground">(</span><span class="text-foreground">authResult</span><span class="text-muted-foreground">.</span><span class="text-foreground">error</span><span class="text-muted-foreground">)</span><span class="text-foreground"> </span><span class="text-muted-foreground">{</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="font-semibold text-foreground">case</span><span class="text-foreground"> </span><span class="text-muted-foreground">&#x27;invalid_token&#x27;</span><span class="text-foreground">:</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="text-muted-foreground/60 italic">// Prompt user to provide a new token</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="text-foreground">console</span><span class="text-muted-foreground">.</span><span class="text-foreground">log</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">&#x27;Please provide a valid API token&#x27;</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="font-semibold text-foreground">break</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">    </span><span class="font-semibold text-foreground">case</span><span class="text-foreground"> </span><span class="text-muted-foreground">&#x27;auth_error&#x27;</span><span class="text-foreground">:</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="text-muted-foreground/60 italic">// Retry or report error</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="text-foreground">console</span><span class="text-muted-foreground">.</span><span class="text-foreground">log</span><span class="text-muted-foreground">(</span><span class="text-muted-foreground">&#x27;Authentication service unavailable&#x27;</span><span class="text-muted-foreground">)</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">      </span><span class="font-semibold text-foreground">break</span><span class="text-muted-foreground">;</span></span></div><div class="flex"><span class="flex-1"><span class="text-foreground">  </span><span class="text-muted-foreground">}</span></span></div><div class="flex"><span class="flex-1"><span class="text-muted-foreground">}</span></span></div></code></pre></div></div></section><section><h2 class="text-2xl font-semibold tracking-tight mb-4">Next Steps</h2><p class="text-base leading-7 mb-4">Now that you understand SID authentication, continue with:</p><ul class="list-disc list-inside space-y-2 text-base leading-7 ml-4"><li><strong>Agent Docs</strong> — Specification documents for AI agents implementing or consuming SID</li></ul><p class="text-base leading-7 mt-6">For a complete reference, download the specification documents from the Agent Docs page.</p></section></div><nav aria-label="Page navigation" class="mt-12 pt-8 border-t grid gap-4 grid-cols-1 sm:grid-cols-2"><a class="group flex flex-col gap-1 p-4 rounded-lg border transition-colors hover:bg-accent hover:border-accent-foreground/20 items-start" href="/human-input/"><span class="flex items-center gap-1 text-xs text-muted-foreground uppercase tracking-wide flex-row"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left h-3 w-3" aria-hidden="true"><path d="m15 18-6-6 6-6"></path></svg>Previous</span><span class="text-sm font-medium text-foreground group-hover:text-accent-foreground text-left">Human Input</span></a><a class="group flex flex-col gap-1 p-4 rounded-lg border transition-colors hover:bg-accent hover:border-accent-foreground/20 items-end" href="/agent-docs/"><span class="flex items-center gap-1 text-xs text-muted-foreground uppercase tracking-wide flex-row-reverse"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-3 w-3" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg>Next</span><span class="text-sm font-medium text-foreground group-hover:text-accent-foreground text-right">Agent Docs</span></a></nav></article></div></main></div></div><!--$--><!--/$--><script src="/_next/static/chunks/5bcee453cc4bce6d.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[39756,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\"],\"default\"]\n3:I[37457,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\"],\"default\"]\n4:I[22016,[\"/_next/static/chunks/7c92e96509cd355e.js\"],\"\"]\n5:I[42835,[\"/_next/static/chunks/7408279f585ae723.js\",\"/_next/static/chunks/f27acd8022899d7e.js\"],\"DocLayout\"]\n18:I[68027,[],\"default\"]\n:HL[\"/_next/static/chunks/4f1b1506632de791.css\",\"style\"]\n:HL[\"/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"4wSIn0LPrOuQTL_f-oJ9L\",\"c\":[\"\",\"authentication\",\"\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"authentication\",{\"children\":[\"__PAGE__\",{}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/4f1b1506632de791.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"div\",null,{\"className\":\"flex min-h-screen items-center justify-center bg-white\",\"children\":[\"$\",\"main\",null,{\"className\":\"flex flex-col items-center gap-6 p-8 text-center\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-6xl font-bold text-black\",\"children\":\"404\"}],[\"$\",\"h2\",null,{\"className\":\"text-2xl font-semibold text-gray-800\",\"children\":\"Page Not Found\"}],[\"$\",\"p\",null,{\"className\":\"max-w-md text-gray-600\",\"children\":\"The page you're looking for doesn't exist or has been moved.\"}],[\"$\",\"$L4\",null,{\"href\":\"/\",\"className\":\"mt-4 inline-flex items-center gap-2 rounded-md bg-black px-6 py-3 text-sm font-medium text-white transition-colors hover:bg-gray-800\",\"children\":\"← Back to Documentation\"}]]}]}],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[[\"$\",\"$L5\",null,{\"children\":[[\"$\",\"header\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-3xl font-bold tracking-tight sm:text-4xl\",\"children\":\"Authentication\"}],[\"$\",\"p\",null,{\"className\":\"mt-4 text-lg text-muted-foreground\",\"children\":\"AI agents need a way to authenticate with applications that goes beyond human-focused interfaces like username/password forms or social logins. SID provides an optional token-based authentication mechanism that allows agents to authenticate programmatically while inheriting the permissions of the user who created the token.\"}]]}],[\"$\",\"div\",null,{\"className\":\"space-y-12\",\"children\":[[\"$\",\"section\",null,{\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-2xl font-semibold tracking-tight mb-4\",\"children\":\"Why Token-Based Authentication for Agents\"}],[\"$\",\"p\",null,{\"className\":\"text-base leading-7 mb-4\",\"children\":\"Traditional authentication methods present challenges for AI agents:\"}],[\"$\",\"div\",null,{\"className\":\"overflow-x-auto mb-6\",\"children\":[\"$\",\"table\",null,{\"className\":\"w-full border-collapse border border-border\",\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"className\":\"bg-muted\",\"children\":[[\"$\",\"th\",null,{\"className\":\"border border-border px-4 py-2 text-left font-semibold\",\"children\":\"Method\"}],[\"$\",\"th\",null,{\"className\":\"border border-border px-4 py-2 text-left font-semibold\",\"children\":\"Challenge for Agents\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"border border-border px-4 py-2\",\"children\":\"Username/Password\"}],[\"$\",\"td\",null,{\"className\":\"border border-border px-4 py-2\",\"children\":\"Requires users to share credentials with the agent—a significant security risk. Forms may have CAPTCHAs or other bot-detection measures.\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"border border-border px-4 py-2\",\"children\":\"OAuth/Social Login\"}],[\"$\",\"td\",null,{\"className\":\"border border-border px-4 py-2\",\"children\":\"Redirects to external providers, requires human interaction for consent screens, and may involve complex multi-step flows.\"}]]}]]}]]}]}],[\"$\",\"p\",null,{\"className\":\"text-base leading-7 mb-4\",\"children\":\"Token-based authentication solves these problems:\"}],[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside space-y-2 text-base leading-7 ml-4\",\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"No credential sharing:\"}],\" Users generate API tokens from their account settings—the agent never sees the user's password\"]}],\"$L6\",\"$L7\",\"$L8\",\"$L9\"]}]]}],\"$La\",\"$Lb\",\"$Lc\",\"$Ld\",\"$Le\",\"$Lf\",\"$L10\",\"$L11\",\"$L12\"]}],\"$L13\"]}],[\"$L14\",\"$L15\"],\"$L16\"]}],{},null,false,false]},null,false,false]},null,false,false],\"$L17\",false]],\"m\":\"$undefined\",\"G\":[\"$18\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"19:I[42516,[\"/_next/static/chunks/7408279f585ae723.js\",\"/_next/static/chunks/f27acd8022899d7e.js\"],\"TypeDefinition\"]\n1a:I[72063,[\"/_next/static/chunks/7408279f585ae723.js\",\"/_next/static/chunks/f27acd8022899d7e.js\"],\"CodeBlock\"]\n1e:I[22995,[\"/_next/static/chunks/7408279f585ae723.js\",\"/_next/static/chunks/f27acd8022899d7e.js\"],\"PageNavigation\"]\n1f:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\"],\"OutletBoundary\"]\n20:\"$Sreact.suspense\"\n22:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\"],\"ViewportBoundary\"]\n24:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\"],\"MetadataBoundary\"]\n6:[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Programmatic access:\"}],\" Tokens can be passed directly to the SID API without navigating login forms\"]}]\n7:[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Scoped permissions:\"}],\" Tokens inherit the user's permissions, and can potentially be scoped to specific actions\"]}]\n8:[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Revocable:\"}],\" Users can revoke tokens at any time without changing their password\"]}]\n9:[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Auditable:\"}],\" Applications can track which actions were performed via which token\"]}]\n"])</script><script>self.__next_f.push([1,"a:[\"$\",\"section\",null,{\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-2xl font-semibold tracking-tight mb-4\",\"children\":\"The Auth API\"}],[\"$\",\"p\",null,{\"className\":\"text-base leading-7 mb-4\",\"children\":[\"The \",[\"$\",\"code\",null,{\"className\":\"bg-muted px-1 rounded\",\"children\":\"window.SID.auth\"}],\" \",\"object is \",[\"$\",\"strong\",null,{\"children\":\"optional\"}],\". Applications that don't require authentication simply don't expose it. When present, it provides two members:\"]}],[\"$\",\"$L19\",null,{\"name\":\"SIDAuth\",\"description\":\"The optional authentication interface exposed on window.SID. Provides a method for token-based authentication and a plaintext description of how auth works.\",\"code\":\"interface SIDAuth {\\n  // Plaintext description of how authentication works\\n  description: string;\\n  \\n  // Authenticate with a token\\n  authenticate(token: string): Promise\u003cboolean\u003e;\\n}\"}],[\"$\",\"div\",null,{\"className\":\"border rounded-lg p-4 mb-6 mt-6\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"font-mono font-semibold mb-2 mt-0\",\"children\":\"auth.description\"}],[\"$\",\"p\",null,{\"className\":\"text-muted-foreground text-sm mb-4\",\"children\":\"A plaintext description explaining how authentication works for this application. This helps agents understand what tokens are needed, what permissions they grant, and any special considerations.\"}],[\"$\",\"$L1a\",null,{\"language\":\"javascript\",\"code\":\"console.log(SID.auth.description);\\n// \\\"Supports token-based auth for agents. Call SID.auth.authenticate(token) \\n//  with a SID token. Tokens have the same permissions as the user who \\n//  created them.\\\"\"}]]}],[\"$\",\"div\",null,{\"className\":\"border rounded-lg p-4 mb-6\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"font-mono font-semibold mb-2 mt-0\",\"children\":\"auth.authenticate(token: string): Promise\u003cboolean\u003e\"}],[\"$\",\"p\",null,{\"className\":\"text-muted-foreground text-sm mb-4\",\"children\":[\"Authenticates the agent with the provided SID token. Returns\",\" \",[\"$\",\"code\",null,{\"className\":\"bg-muted px-1 rounded\",\"children\":\"true\"}],\" if authentication succeeded and a session was established,\",\" \",[\"$\",\"code\",null,{\"className\":\"bg-muted px-1 rounded\",\"children\":\"false\"}],\" otherwise. On success, the application creates a session for the agent.\"]}],[\"$\",\"$L1a\",null,{\"language\":\"javascript\",\"code\":\"// SID token provided to the agent (similar to an API token)\\nconst token = 'sk_live_abc123...';\\n\\nconst success = await SID.auth.authenticate(token);\\n\\nif (success) {\\n  console.log('Session established');\\n  // Agent can now perform actions as the authenticated user\\n  // The application has created a session internally\\n} else {\\n  console.log('Authentication failed - invalid or expired token');\\n}\"}]]}]]}]\n"])</script><script>self.__next_f.push([1,"b:[\"$\",\"section\",null,{\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-2xl font-semibold tracking-tight mb-4\",\"children\":\"Checking for Auth Support\"}],[\"$\",\"p\",null,{\"className\":\"text-base leading-7 mb-4\",\"children\":[\"Since \",[\"$\",\"code\",null,{\"className\":\"bg-muted px-1 rounded\",\"children\":\"auth\"}],\" is optional, agents should check for its presence before attempting to authenticate:\"]}],[\"$\",\"$L1a\",null,{\"language\":\"javascript\",\"code\":\"// Check if the application supports SID authentication\\nif (SID.auth) {\\n  // Read how auth works for this application\\n  console.log('Auth info:', SID.auth.description);\\n  \\n  // Attempt authentication with the provided SID token\\n  const success = await SID.auth.authenticate(token);\\n  \\n  if (success) {\\n    // Session established - proceed with authenticated actions\\n    console.log('Session established');\\n  }\\n} else {\\n  // Application doesn't require authentication\\n  // or uses a different auth mechanism\\n  console.log('No SID auth available');\\n}\"}]]}]\nc:[\"$\",\"section\",null,{\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-2xl font-semibold tracking-tight mb-4\",\"children\":\"SID Tokens\"}],[\"$\",\"p\",null,{\"className\":\"text-base leading-7 mb-4\",\"children\":\"SID tokens are similar to API tokens—they allow agents to authenticate programmatically. The agent should be provided a SID token before attempting to interact with authenticated applications.\"}],[\"$\",\"p\",null,{\"className\":\"text-base leading-7 mb-4\",\"children\":[\"How tokens are generated and managed is up to the application. Common patterns include API key pages in user settings, developer portals, or integration dashboards. The\",\" \",[\"$\",\"code\",null,{\"className\":\"bg-muted px-1 rounded\",\"children\":\"auth.description\"}],\" \",\"field provides guidance on what kind of token is expected:\"]}],[\"$\",\"$L1a\",null,{\"language\":\"javascript\",\"code\":\"// Example auth descriptions from different applications\\n\\n// E-commerce platform\\n\\\"Supports token-based auth for agents. Provide a SID token to authenticate. \\n Tokens can be scoped to read-only or full access.\\\"\\n\\n// Project management tool\\n\\\"Token-based authentication. Provide your SID token to establish a session. \\n Tokens inherit your workspace permissions.\\\"\\n\\n// Analytics dashboard\\n\\\"Authenticate with a SID token. Tokens require the Developer role.\\\"\"}]]}]\nd:[\"$\",\"section\",null,{\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-2xl font-semibold tracking-tight mb-4\",\"children\":\"Token Permissions\"}],[\"$\",\"p\",null,{\"className\":\"text-base leading-7 mb-4\",\"children\":[\"A key principle of SID authentication:\",\" \",[\"$\",\"strong\",null,{\"children\":\"tokens inherit the permissions of the user who created them\"}],\". This means:\"]}],[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside space-y-2 text-base leading-7 ml-4 mb-6\",\"children\":[[\"$\",\"li\",null,{\"children\":\"If a user can view but not edit a resource, their token can only view it\"}],[\"$\",\"li\",null,{\"children\":\"Admin users' tokens have admin-level access\"}],[\"$\",\"li\",null,{\"children\":\"When a user's permissions change, their tokens' permissions change too\"}],[\"$\",\"li\",null,{\"children\":\"Revoking a user's access should invalidate their tokens\"}]]}],[\"$\",\"p\",null,{\"className\":\"text-base leading-7 mb-4\",\"children\":\"Applications may also support scoped tokens with reduced permissions:\"}],[\"$\",\"$L1a\",null,{\"language\":\"javascript\",\"code\":\"// Example: Application with scoped tokens\\n// auth.description might say:\\n\\\"Tokens can be created with specific scopes:\\n - read: View data only\\n - write: Create and modify data\\n - admin: Full access including user management\\n \\n Select scopes when creating a token in Settings \u003e API Keys.\\\"\"}]]}]\n"])</script><script>self.__next_f.push([1,"e:[\"$\",\"section\",null,{\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-2xl font-semibold tracking-tight mb-4\",\"children\":\"Security Considerations\"}],[\"$\",\"h3\",null,{\"className\":\"text-xl font-medium mt-6 mb-4\",\"children\":\"For Agent Developers\"}],[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside space-y-2 text-base leading-7 ml-4 mb-6\",\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Never log tokens:\"}],\" Treat tokens like passwords—don't write them to logs, console output, or error messages\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Secure storage:\"}],\" Store tokens in secure credential stores, not in plain text files or environment variables in shared environments\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Minimal scope:\"}],\" Request tokens with the minimum permissions needed for the task\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Token rotation:\"}],\" Support token rotation and handle expired tokens gracefully\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"User consent:\"}],\" Always get explicit user consent before using their tokens\"]}]]}],[\"$\",\"h3\",null,{\"className\":\"text-xl font-medium mt-6 mb-4\",\"children\":\"For Application Developers\"}],[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside space-y-2 text-base leading-7 ml-4 mb-6\",\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Token generation:\"}],\" Use cryptographically secure random generation for tokens\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Token storage:\"}],\" Store only hashed tokens in your database—never plaintext\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Rate limiting:\"}],\" Apply rate limits to prevent abuse via automated access\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Audit logging:\"}],\" Log all actions performed via tokens for security auditing\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Expiration:\"}],\" Consider automatic token expiration (e.g., 90 days) with renewal options\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Revocation:\"}],\" Provide easy token revocation and immediately invalidate revoked tokens\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Scope support:\"}],\" Consider supporting scoped tokens for principle of least privilege\"]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"1b:T4fa,// Example: Express.js token validation endpoint\napp.post('/api/auth/sid-token', async (req, res) =\u003e {\n  const { token } = req.body;\n  \n  if (!token) {\n    return res.status(400).json({ error: 'Token required' });\n  }\n  \n  try {\n    // Hash the token and look it up\n    const hashedToken = hashToken(token);\n    const tokenRecord = await db.tokens.findOne({ \n      hashedToken,\n      revokedAt: null,\n      expiresAt: { $gt: new Date() }\n    });\n    \n    if (!tokenRecord) {\n      return res.status(401).json({ error: 'Invalid or expired token' });\n    }\n    \n    // Log the authentication for auditing\n    await db.auditLog.insert({\n      type: 'sid_token_auth',\n      tokenId: tokenRecord.id,\n      userId: tokenRecord.userId,\n      timestamp: new Date(),\n      ip: req.ip\n    });\n    \n    // Create session (set cookies, JWT, etc.)\n    const sessionToken = await createUserSession(tokenRecord.userId);\n    res.cookie('session', sessionToken, { httpOnly: true, secure: true });\n    \n    // Return success with user info\n    res.json({ \n      success: true,\n      userId: tokenRecord.userId,\n      scopes: tokenRecord.scopes\n    });\n    \n  } catch (error) {\n    console.error('Token validation error:', error);\n    res.status(500).json({ error: 'Internal error' });\n  }\n});"])</script><script>self.__next_f.push([1,"f:[\"$\",\"section\",null,{\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-2xl font-semibold tracking-tight mb-4\",\"children\":\"Implementation Guidance\"}],[\"$\",\"p\",null,{\"className\":\"text-base leading-7 mb-4\",\"children\":\"Here's how to implement SID authentication in your application:\"}],[\"$\",\"h3\",null,{\"className\":\"text-xl font-medium mt-6 mb-4\",\"children\":\"1. Define the Auth Object\"}],[\"$\",\"$L1a\",null,{\"language\":\"javascript\",\"code\":\"// In your SID initialization\\nwindow.SID = {\\n  version: \\\"1.0.0\\\",\\n  // ... other SID methods ...\\n  \\n  auth: {\\n    description: `Supports token-based auth for agents. \\n      Call SID.auth.authenticate(token) with a SID token.\\n      Tokens have the same permissions as the user who created them.`,\\n    \\n    authenticate: async (token) =\u003e {\\n      // Validate token with your backend\\n      try {\\n        const response = await fetch('/api/auth/sid-token', {\\n          method: 'POST',\\n          headers: { 'Content-Type': 'application/json' },\\n          body: JSON.stringify({ token })\\n        });\\n        \\n        if (response.ok) {\\n          const data = await response.json();\\n          // Create a session for the authenticated user\\n          // This could set cookies, update app state, etc.\\n          await createSession(data.userId, data.scopes);\\n          return true;\\n        }\\n        return false;\\n      } catch (error) {\\n        console.error('Auth error:', error);\\n        return false;\\n      }\\n    }\\n  }\\n};\"}],[\"$\",\"h3\",null,{\"className\":\"text-xl font-medium mt-6 mb-4\",\"children\":\"2. Backend Token Validation\"}],[\"$\",\"$L1a\",null,{\"language\":\"javascript\",\"code\":\"$1b\"}],[\"$\",\"h3\",null,{\"className\":\"text-xl font-medium mt-6 mb-4\",\"children\":\"3. Include Auth Info in Page Context\"}],[\"$\",\"p\",null,{\"className\":\"text-base leading-7 mb-4\",\"children\":\"Include authentication information in your SID page context so agents know auth is available:\"}],[\"$\",\"$L1a\",null,{\"language\":\"html\",\"code\":\"\u003cscript type=\\\"application/sid+json\\\"\u003e\\n{\\n  \\\"version\\\": \\\"1.0.0\\\",\\n  \\n  \\\"app\\\": \\\"Acme Project Manager - A project management tool for teams.\\\",\\n  \\n  \\\"page\\\": \\\"Dashboard showing your projects and recent activity.\\\",\\n  \\n  \\\"auth\\\": \\\"Supports token-based auth for agents. Call SID.auth.authenticate(token) \\n          with a SID token. Tokens have same permissions as the user who created them.\\\"\\n}\\n\u003c/script\u003e\"}]]}]\n"])</script><script>self.__next_f.push([1,"1c:T57c,"])</script><script>self.__next_f.push([1,"// Agent authentication flow\n\nasync function authenticateAndPerformTask(token, taskDescription) {\n  // 1. Check if SID is supported\n  if (!window.SID?.isSupported()) {\n    throw new Error('SID not supported on this page');\n  }\n  \n  // 2. Check if auth is available\n  if (!SID.auth) {\n    console.log('No authentication required for this application');\n    // Proceed without auth\n    return performTask(taskDescription);\n  }\n  \n  // 3. Read auth description to understand requirements\n  console.log('Auth info:', SID.auth.description);\n  \n  // 4. Authenticate with provided SID token\n  console.log('Authenticating...');\n  const success = await SID.auth.authenticate(token);\n  \n  if (!success) {\n    throw new Error('Authentication failed - check token validity');\n  }\n  \n  console.log('Session established');\n  \n  // 5. Perform the task as authenticated user\n  return performTask(taskDescription);\n}\n\nasync function performTask(taskDescription) {\n  // Get available elements\n  const elements = SID.getElements();\n  \n  // Find relevant element based on task\n  // ... agent logic to determine which element to interact with ...\n  \n  // Perform interaction\n  const result = await SID.interact(elementId, { type: 'click' });\n  \n  // Handle result\n  if (result.success) {\n    console.log('Task completed:', result.message);\n  } else {\n    console.error('Task failed:', result.error);\n  }\n  \n  return result;\n}"])</script><script>self.__next_f.push([1,"10:[\"$\",\"section\",null,{\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-2xl font-semibold tracking-tight mb-4\",\"children\":\"Complete Agent Authentication Flow\"}],[\"$\",\"p\",null,{\"className\":\"text-base leading-7 mb-4\",\"children\":\"Here's a complete example of how an agent authenticates and performs actions:\"}],[\"$\",\"$L1a\",null,{\"language\":\"javascript\",\"code\":\"$1c\"}]]}]\n1d:T447,async function safeAuthenticate(token) {\n  try {\n    // Check auth availability\n    if (!SID.auth) {\n      return { success: true, message: 'No auth required' };\n    }\n    \n    // Attempt authentication\n    const success = await SID.auth.authenticate(token);\n    \n    if (success) {\n      return { success: true, message: 'Authenticated' };\n    } else {\n      return { \n        success: false, \n        error: 'invalid_token',\n        message: 'Token is invalid or expired. Please generate a new token.'\n      };\n    }\n    \n  } catch (error) {\n    // Network or server error\n    return {\n      success: false,\n      error: 'auth_error',\n      message: `Authentication error: ${error.message}`\n    };\n  }\n}\n\n// Usage\nconst authResult = await safeAuthenticate(userToken);\n\nif (!authResult.success) {\n  switch (authResult.error) {\n    case 'invalid_token':\n      // Prompt user to provide a new token\n      console.log('Please provide a valid API token');\n      break;\n    case 'auth_error':\n      // Retry or report error\n      console.log('Authentication service unavailable');\n      break;\n  }\n}11:[\"$\",\"section\",null,{\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-2xl font-semibold tracking-tight mb-4\",\"children\":\"Error Handling\"}],[\"$\",\"p\",null,{\"className\":\"text-base leading-7 mb-4\",\"children\":\"Agents should handle common authentication errors gracefully:\"}],[\"$\",\"$L1a\",null,{\"language\":\"javascript\",\"code\":\"$1d\"}]]}]\n12:[\"$\",\"section\",null,{\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-2xl font-semibold tracking-tight mb-4\",\"children\":\"Next Steps\"}],[\"$\",\"p\",null,{\"className\":\"text-base leading-7 mb-4\",\"children\":\"Now that you understand SID authentication, continue with:\"}],[\"$\",\"ul\",null,{\"className\":\"list-disc list-inside space-y-2 text-base leading-7 ml-4\",\"children\":[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Agent Docs\"}],\" — Specification documents for AI agents implementing or consuming SID\"]}]}],[\"$\",\"p\",null,{\"className\":\"text-base leading-7 mt-6\",\"children\":\"For a complete reference, download the specification documents from the Agent Docs page.\"}]]}]\n13:[\"$\",\"$L1e\",null,{}]\n14:[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/7408279f585ae723.js\",\"async\":true,\"nonce\":\"$undefined\"}]\n15:[\"$\",\"script\",\"script-1\",{\"src\":\"/_next/static/chunks/f27acd8022899d7e.js\",\"async\":true,\"nonce\":\"$undefined\"}]\n16:[\"$\",\"$L1f\",null,{\"children\":[\"$\",\"$20\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@21\"}]}]\n17:[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L22\",null,{\"children\":\"$L23\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"$20\",null,{\"name\":\"Next.Metadata\",\"children\":\"$L25\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}]\n"])</script><script>self.__next_f.push([1,"23:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"26:I[27201,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\"],\"IconMark\"]\n21:null\n"])</script><script>self.__next_f.push([1,"25:[[\"$\",\"title\",\"0\",{\"children\":\"Authentication | SID - Semantic Interaction Description | SID\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Learn how SID handles token-based authentication for AI agents. Covers the auth API methods, security considerations, and implementation guidance.\"}],[\"$\",\"meta\",\"2\",{\"name\":\"author\",\"content\":\"SID Standard\"}],[\"$\",\"meta\",\"3\",{\"name\":\"keywords\",\"content\":\"SID,Semantic Interaction Description,AI agents,web accessibility,browser automation,web standard,JavaScript API\"}],[\"$\",\"meta\",\"4\",{\"name\":\"creator\",\"content\":\"SID Standard\"}],[\"$\",\"meta\",\"5\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"link\",\"6\",{\"rel\":\"canonical\",\"href\":\"https://sid-standard.github.io/\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:title\",\"content\":\"Authentication | SID\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:description\",\"content\":\"Token-based authentication for AI agents using SID's optional auth API.\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:image\",\"content\":\"https://sid-standard.github.io/og.png\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:image:width\",\"content\":\"1200\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:image:height\",\"content\":\"630\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:image:alt\",\"content\":\"Authentication | SID\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"14\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"15\",{\"name\":\"twitter:title\",\"content\":\"Authentication | SID\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:description\",\"content\":\"Token-based authentication for AI agents using SID's optional auth API.\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:image\",\"content\":\"https://sid-standard.github.io/og.png\"}],[\"$\",\"link\",\"18\",{\"rel\":\"icon\",\"href\":\"/favicon.ico?favicon.c2cf7d0b.ico\",\"sizes\":\"48x48\",\"type\":\"image/x-icon\"}],[\"$\",\"$L26\",\"19\",{}]]\n"])</script></body></html>